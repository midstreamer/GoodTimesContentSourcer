<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Favorite Movies</title>
    <style type="text/css">
        button,
        div,
        form,
        input {
            margin: 10px;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>New York Times Article Search</h1>

        <!-- Aeticles will get dumped here -->
        <div id="articles-view"></div>
        <div class="title"></div>
        <div class="snippet"></div>
        <div class="pubDate"></div>
        <div class="arthur"></div>
        <!-- Button triggers NYTimes Article Search-->
        <input id="article-search" type="submit" value="NYTimes Article Search">
        </form>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script type="text/javascript">

            var url = "https://api.nytimes.com/svc/search/v2/articlesearch.json";
            url += '?' + $.param({
                'api-key': "386607bb9b9e4ed39bea6265563b90a3",
                "q": "mindfulness"
            });
            $.ajax({
                url: url,
                method: 'GET',
            })
            
            // We store all of the retrieved data inside of an object called "response"
            .then(function (result) {

                // Log the queryURL
                for (var i = 0; i < result.response.docs.length; i++){
                console.log(url);
                console.log(result);
                console.log(result.response.docs[i].headline.main);
                console.log(result.response.docs[i].snippet);
                console.log(result.response.docs[i].pub_date);
               
                }

                // Log the resulting object
                console.log(result);

                for (var i = 0; i < result.response.docs.length; i++){
                // Transfer content to HTML
                $(".title").text("Article Title: " + result.response.docs[i].headline.main);
                $(".snippet").text("Article Snippet: " + result.response.docs[i].snippet);
                $(".pubDate").text("Publish Date: " + result.response.docs[i].pub_date);
               
                }
            });

        </script>
    </div>
</body>

</html>